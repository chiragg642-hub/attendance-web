<!DOCTYPE html>
<html>
<head>
  <title>Teacher Attendance</title>
</head>
<body>

<h2>Create Attendance Session</h2>

<input id="course" placeholder="Course (BTECH)" />
<input id="sem" placeholder="Semester (3)" />
<input id="cls" placeholder="Class (CS-A)" />
<input id="subject" placeholder="Subject (MATHS)" />
<input id="teacher" placeholder="Teacher Name" />
<input id="date" type="date" />
<input id="time" type="time" />

<button onclick="generate()">Generate Session</button>

<p id="output"></p>
<img id="qr" />

<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>

<script>
const STUDENT_PAGE = "https://chiragg642-hub.github.io/attendance-web/";

function generate() {
  const course = courseEl.value.trim();
  const sem = semEl.value.trim();
  const cls = clsEl.value.trim();
  const subject = subjectEl.value.trim();
  const teacher = teacherEl.value.trim();
  const date = dateEl.value;
  const time = timeEl.value;

  if (!course || !sem || !cls || !subject || !teacher || !date || !time) {
    alert("Fill all fields");
    return;
  }

  const sessionId =
    `${course}|${sem}|${cls}|${subject}|${teacher}|${date}|${time}`;

  const url = `${STUDENT_PAGE}?session=${encodeURIComponent(sessionId)}`;

  document.getElementById("output").innerText = url;

  QRCode.toDataURL(url).then(qr => {
    document.getElementById("qr").src = qr;
  });
}

const courseEl = document.getElementById("course");
const semEl = document.getElementById("sem");
const clsEl = document.getElementById("cls");
const subjectEl = document.getElementById("subject");
const teacherEl = document.getElementById("teacher");
const dateEl = document.getElementById("date");
const timeEl = document.getElementById("time");
</script>

</body>
</html>
